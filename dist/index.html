<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UI Workbench — Bondwood</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  :root {
    --bg: #0f1210; --surface: #1a1f1c; --surface-hover: #232a26;
    --text: #e8e8e8; --text-mid: #aaa; --text-dim: #666; --text-faint: #555;
    --border: rgba(255,255,255,0.08); --input-bg: #1a1f1c;
    --input-border: rgba(255,255,255,0.1); --input-border-focus: rgba(7,40,235,0.5);
    --accent: #4a7aff; --accent-dim: rgba(74,122,255,0.15);
    --card-body-title: #e8e8e8; --card-body-strong: #e0e0e0;
    --topbar-bg: rgba(15,18,16,0.92); --topbar-border: rgba(255,255,255,0.06);
    --footer-border: rgba(255,255,255,0.06);
    --shadow: 0 2px 12px rgba(0,0,0,0.3); --star-shadow: 0 0 20px rgba(244,180,0,0.15);
  }
  [data-theme="light"] {
    --bg: #f4f5f3; --surface: #ffffff; --surface-hover: #f0f0ee;
    --text: #1a1a1a; --text-mid: #555; --text-dim: #888; --text-faint: #aaa;
    --border: rgba(0,0,0,0.08); --input-bg: #ffffff;
    --input-border: rgba(0,0,0,0.12); --input-border-focus: rgba(7,40,235,0.5);
    --accent: #0728eb; --accent-dim: rgba(7,40,235,0.08);
    --card-body-title: #1a1a1a; --card-body-strong: #1a1a1a;
    --topbar-bg: rgba(244,245,243,0.92); --topbar-border: rgba(0,0,0,0.06);
    --footer-border: rgba(0,0,0,0.06);
    --shadow: 0 2px 12px rgba(0,0,0,0.08); --star-shadow: 0 0 20px rgba(244,180,0,0.2);
  }
  body { min-height:100vh; background:var(--bg); color:var(--text); font-family:'Inter',system-ui,sans-serif; -webkit-font-smoothing:antialiased; transition:background 0.25s,color 0.25s; }
  .top-bar { position:sticky; top:0; z-index:100; background:var(--topbar-bg); backdrop-filter:blur(16px); border-bottom:1px solid var(--topbar-border); padding:16px 24px; transition:background 0.25s,border-color 0.25s; }
  .top-bar-inner { max-width:1440px; margin:0 auto; display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:12px; }
  .top-bar h1 { font-size:18px; font-weight:700; letter-spacing:-0.3px; }
  .top-bar .sub { font-size:11px; color:var(--text-dim); margin-top:2px; }
  .top-bar-actions { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
  .card-count { font-size:11px; color:var(--text-faint); }
  .theme-toggle-wrap { display:flex; align-items:center; gap:6px; margin-left:4px; }
  .theme-toggle-label { font-size:10px; color:var(--text-dim); user-select:none; }
  .theme-toggle { width:36px; height:20px; border-radius:10px; background:var(--surface-hover); border:1px solid var(--input-border); cursor:pointer; position:relative; transition:all 0.25s; flex-shrink:0; }
  .theme-toggle::after { content:''; position:absolute; top:2px; left:2px; width:14px; height:14px; border-radius:50%; background:var(--text-dim); transition:all 0.25s; }
  [data-theme="light"] .theme-toggle::after { left:18px; background:#f4b400; }
  .btn-fav-filter { background:rgba(244,180,0,0.12); color:#f4b400; border:none; border-radius:6px; padding:6px 14px; font-size:11px; font-weight:600; cursor:pointer; transition:all 0.15s; }
  .btn-fav-filter.active { background:#f4b400; color:#1a1a1a; }
  .btn-fav-filter:hover { filter:brightness(1.15); }
  .btn-clear { background:rgba(255,80,80,0.1); color:#e07060; border:none; border-radius:6px; padding:6px 12px; font-size:11px; font-weight:500; cursor:pointer; }
  .btn-clear:hover { background:rgba(255,80,80,0.2); }
  .controls-wrap { max-width:1440px; margin:0 auto; padding:20px 24px 0; }
  .controls { background:var(--surface); border:1px solid var(--border); border-radius:12px; padding:20px 24px; display:flex; gap:14px; align-items:flex-end; flex-wrap:wrap; transition:background 0.25s,border-color 0.25s; }
  .control-group { flex:1 1 180px; }
  .control-group.wide { flex:1 1 240px; }
  .control-group label { display:block; font-size:9px; font-weight:700; letter-spacing:2px; text-transform:uppercase; color:var(--accent); margin-bottom:6px; }
  .custom-select { position:relative; width:100%; }
  .custom-select-trigger { width:100%; padding:10px 36px 10px 14px; background:var(--input-bg); border:1px solid var(--input-border); border-radius:8px; color:var(--text); font-size:13px; font-family:'Inter',sans-serif; cursor:pointer; outline:none; transition:all 0.25s; position:relative; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; user-select:none; }
  .custom-select-trigger::after { content:'▾'; position:absolute; right:12px; top:50%; transform:translateY(-50%); font-size:12px; color:var(--text-dim); pointer-events:none; }
  .custom-select-trigger:hover { border-color:var(--accent); }
  .custom-select.open .custom-select-trigger { border-color:var(--accent); border-radius:8px 8px 0 0; }
  .custom-select-dropdown { display:none; position:absolute; top:100%; left:0; right:0; background:var(--input-bg); border:1px solid var(--accent); border-top:none; border-radius:0 0 8px 8px; max-height:280px; overflow-y:auto; z-index:50; box-shadow:0 8px 24px rgba(0,0,0,0.3); }
  .custom-select.open .custom-select-dropdown { display:block; }
  .custom-select-search { width:100%; padding:8px 12px; background:transparent; border:none; border-bottom:1px solid var(--border); color:var(--text); font-size:12px; font-family:'Inter',sans-serif; outline:none; }
  .custom-select-search::placeholder { color:var(--text-faint); }
  .custom-select-option { padding:8px 14px; cursor:pointer; font-size:13px; color:var(--text-dim); transition:all 0.1s; display:flex; align-items:center; gap:10px; }
  .custom-select-option:hover { background:var(--accent-dim); color:var(--text); }
  .custom-select-option.selected { color:var(--accent); font-weight:600; }
  .custom-select-option .font-preview { font-size:15px; color:var(--text); flex-shrink:0; width:50px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
  .custom-select-option .font-name, .custom-select-option .opt-label { font-family:'Inter',sans-serif; font-size:11px; color:var(--text-dim); }
  .custom-select-option .opt-sub { font-size:10px; color:var(--text-faint); margin-left:4px; }
  .custom-select-option .brand-swatch { width:14px; height:14px; border-radius:3px; flex-shrink:0; border:1px solid rgba(128,128,128,0.3); }
  .custom-select-option.hidden { display:none; }
  .btn-add { background:var(--accent); color:#fff; border:none; border-radius:8px; padding:10px 28px; font-size:13px; font-weight:600; cursor:pointer; transition:all 0.15s; white-space:nowrap; flex-shrink:0; }
  .btn-add:hover { filter:brightness(1.15); }
  .quick-row { display:flex; gap:6px; margin-top:10px; flex-wrap:wrap; align-items:center; }
  .quick-label { font-size:10px; color:var(--text-faint); margin-right:4px; }
  .quick-btn { background:var(--surface); border:1px solid var(--border); border-radius:6px; padding:4px 10px; font-size:10px; color:var(--text-dim); cursor:pointer; transition:all 0.15s; white-space:nowrap; font-family:'Inter',sans-serif; }
  .quick-btn:hover { border-color:var(--accent); color:var(--accent); }
  .grid-wrap { max-width:1440px; margin:0 auto; padding:24px 24px 60px; }
  .grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(370px,1fr)); gap:20px; }
  .empty-state { text-align:center; padding:80px 20px; color:var(--text-faint); font-size:14px; }
  .card { border-radius:12px; overflow:hidden; border:1px solid var(--border); background:var(--surface); transition:all 0.2s; position:relative; box-shadow:var(--shadow); cursor:grab; }
  .card:active { cursor:grabbing; }
  .card.dragging { opacity:0.4; transform:scale(0.97); }
  .card.drag-over { outline:2px dashed var(--accent); outline-offset:3px; }
  .card.starred { border:2px solid #f4b400; box-shadow:var(--star-shadow); }
  .card .fav-badge { display:none; position:absolute; top:8px; left:8px; z-index:10; background:#f4b400; color:#1a1a1a; font-size:9px; font-weight:700; padding:2px 8px; border-radius:4px; letter-spacing:1px; text-transform:uppercase; }
  .card.starred .fav-badge { display:block; }
  .card-banner { padding:14px 16px 0; position:relative; }
  .card-banner-inner { display:flex; align-items:center; gap:10px; padding-bottom:10px; }
  .card-banner-hamburger { color:#fff; opacity:0.8; flex-shrink:0; }
  .card-banner-title { font-weight:700; font-size:14px; line-height:1.1; color:#fff; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .card-banner-accent { height:3px; margin:0 -16px; }
  .card-app-body { padding:14px 16px 10px; min-height:200px; }
  .card-app-body .app-module-title { font-weight:700; font-size:14px; color:var(--card-body-title); margin-bottom:2px; letter-spacing:0.3px; }
  .card-app-body .app-subtitle { font-size:9px; color:var(--text-dim); margin-bottom:10px; }
  .mini-stats { display:flex; border-top:3px solid var(--stat-accent,#000); border-radius:6px; overflow:hidden; border:1px solid var(--border); margin-bottom:10px; background:var(--surface); }
  .mini-stat { flex:1; padding:6px 8px; border-left:1px solid var(--border); min-width:0; }
  .mini-stat:first-child { border-left:none; }
  .mini-stat-label { font-size:7px; font-weight:700; text-transform:uppercase; letter-spacing:0.5px; color:var(--text-dim); margin-bottom:1px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .mini-stat-value { font-size:12px; font-weight:700; color:var(--card-body-title); letter-spacing:0.3px; }
  .mini-stat-value.warn { color:#d97706; } .mini-stat-value.danger { color:#FA050F; } .mini-stat-value.green { color:#2B6D51; }
  .mini-table { width:100%; border-collapse:collapse; font-size:8px; border:1px solid var(--border); border-radius:6px; overflow:hidden; }
  .mini-table thead th { padding:5px 6px; font-weight:700; text-transform:uppercase; letter-spacing:0.3px; font-size:7px; color:#fff; text-align:left; white-space:nowrap; }
  .mini-table tbody td { padding:4px 6px; border-top:1px solid var(--border); color:var(--text-mid); white-space:nowrap; }
  .mini-badge { display:inline-block; padding:1px 6px; border-radius:8px; font-size:7px; font-weight:700; text-transform:uppercase; }
  .mini-badge.active { background:rgba(43,109,81,0.12); color:#2B6D51; }
  .mini-badge.expiring { background:rgba(217,119,6,0.12); color:#d97706; }
  .mini-badge.expired { background:rgba(250,5,15,0.12); color:#FA050F; }
  .mini-badge.draft { background:rgba(107,114,128,0.12); color:#6b7280; }
  .mini-badge.pending { background:rgba(7,40,235,0.1); color:#0728eb; }
  .mini-badge.approved { background:rgba(22,163,74,0.12); color:#15803d; }
  .mini-filter-bar { display:flex; gap:4px; margin-bottom:8px; align-items:center; }
  .mini-search { flex:1; padding:3px 6px; border:1px solid var(--border); border-radius:4px; font-size:8px; background:var(--input-bg); color:var(--text-dim); font-family:inherit; }
  .mini-select { padding:3px 6px; border:1px solid var(--border); border-radius:4px; font-size:8px; background:var(--input-bg); color:var(--text-dim); font-family:inherit; }
  .mini-tabs { display:flex; gap:2px; margin-bottom:8px; }
  .mini-tab { padding:3px 8px; border-radius:4px; font-size:7.5px; font-weight:600; color:var(--text-dim); background:var(--surface-hover); border:1px solid var(--border); }
  .mini-tab.active { color:#fff; border-color:transparent; }
  .mini-donut-grid { display:grid; grid-template-columns:1fr 1fr; gap:8px; }
  .mini-bucket { border-radius:8px; overflow:hidden; border:1px solid var(--border); }
  .mini-bucket-header { padding:5px 8px; font-size:8px; font-weight:700; color:#fff; }
  .mini-bucket-body { padding:8px; display:flex; align-items:center; gap:8px; background:var(--surface); }
  .mini-bucket-body canvas { width:48px; height:48px; }
  .mini-bucket-stats { font-size:7px; color:var(--text-dim); line-height:1.5; }
  .mini-bucket-stats strong { color:var(--card-body-title); }
  .mini-chart { height:60px; border-radius:6px; border:1px solid var(--border); background:var(--surface-hover); display:flex; align-items:flex-end; padding:4px; gap:2px; overflow:hidden; }
  .mini-chart-bar { flex:1; border-radius:2px 2px 0 0; min-width:4px; transition:height 0.3s; }
  .mini-form-row { display:flex; gap:6px; margin-bottom:6px; }
  .mini-form-field { flex:1; padding:4px 6px; border:1px solid var(--border); border-radius:4px; font-size:8px; color:var(--text-dim); background:var(--input-bg); }
  .mini-form-label { font-size:7px; font-weight:700; text-transform:uppercase; color:var(--text-dim); margin-bottom:2px; letter-spacing:0.3px; }
  .mini-btn { padding:3px 10px; border-radius:4px; font-size:7.5px; font-weight:600; border:none; color:#fff; cursor:default; }
  .mini-heatmap { display:grid; grid-template-columns:repeat(8,1fr); gap:2px; }
  .mini-hm-cell { height:12px; border-radius:2px; }
  .card-footer { padding:10px 16px 12px; border-top:1px solid var(--footer-border); display:flex; justify-content:space-between; align-items:flex-end; }
  .card-font-labels { font-size:9.5px; color:var(--text-dim); }
  .card-font-labels .tag { color:var(--accent); font-weight:600; }
  .card-font-labels div { margin-bottom:2px; }
  .card-font-labels div:last-child { margin-bottom:0; }
  .card-actions { display:flex; gap:4px; }
  .card-actions button { border:none; border-radius:5px; padding:4px 8px; cursor:pointer; transition:all 0.15s; font-family:'Inter',sans-serif; }
  .btn-star { background:var(--surface-hover); font-size:12px; color:var(--text-dim); }
  .btn-star:hover { background:rgba(244,180,0,0.2); color:#f4b400; }
  .card.starred .btn-star { background:#f4b400; color:#1a1a1a; }
  .btn-dup { background:var(--surface-hover); font-size:10px; color:var(--text-dim); }
  .btn-dup:hover { opacity:0.8; }
  .btn-del { background:rgba(255,80,80,0.1); font-size:10px; color:#e07060; }
  .btn-del:hover { background:rgba(255,80,80,0.2); }
  @media (max-width:500px) { .grid { grid-template-columns:1fr; } .controls { flex-direction:column; } .control-group { flex:1 1 100%; } }
</style>
</head>
<body>
<div class="top-bar"><div class="top-bar-inner"><div><h1>UI Workbench</h1><div class="sub">Bondwood — App Preview &amp; Typography Explorer</div></div><div class="top-bar-actions"><button class="btn-fav-filter" id="btnFavFilter" style="display:none;" onclick="toggleFavFilter()"></button><span class="card-count" id="cardCount">0 cards</span><button class="btn-clear" id="btnClear" style="display:none;" onclick="clearAll()">Clear all</button><div class="theme-toggle-wrap"><span class="theme-toggle-label" id="themeLabel">Dark</span><div class="theme-toggle" id="themeToggle" onclick="toggleTheme()" title="Toggle light/dark mode"></div></div></div></div></div>
<div class="controls-wrap"><div class="controls"><div class="control-group"><label>App Preview</label><div class="custom-select" id="csApp"></div></div><div class="control-group wide"><label>District Brand</label><div class="custom-select" id="csBrand"></div></div><div class="control-group wide"><label>Display / Title Font</label><div class="custom-select" id="csDisplay"></div></div><div class="control-group wide"><label>Body / UI Font</label><div class="custom-select" id="csBody"></div></div><button class="btn-add" onclick="addCard()">+ Add Preview</button></div><div class="quick-row" id="quickRow"><span class="quick-label">Quick combos:</span></div></div>
<div class="grid-wrap"><div class="grid" id="grid"></div><div class="empty-state" id="emptyState">Pick an app, brand, and fonts above — then click "+ Add Preview" to start comparing.</div></div>
<script>
const APPS = [
  {id:"contract-mgmt",name:"Contract Management",group:"Contracts",banner:"Contract Management"},
  {id:"payment-dash",name:"Payment Mgmt: Dashboard",group:"Payments",banner:"Payment Management"},
  {id:"payment-rfp",name:"Payment Mgmt: RFP Form",group:"Payments",banner:"Payment Management"},
  {id:"payment-data",name:"Payment Mgmt: Data Mgmt",group:"Payments",banner:"Payment Management"},
  {id:"payment-users",name:"Payment Mgmt: User Mgmt",group:"Payments",banner:"Payment Management"},
  {id:"budget-donut",name:"Budget Monitoring (Donut)",group:"Budget",banner:"Budget Monitoring"},
  {id:"budget-table",name:"Budget Monitoring (Table)",group:"Budget",banner:"Budget Monitoring"},
  {id:"debt-mgmt",name:"Debt Management",group:"Debt",banner:"Debt Management"},
  {id:"bench-revenue",name:"Benchmarking: Revenues",group:"Benchmarking",banner:"MN K12 Benchmarking"},
  {id:"bench-salaries",name:"Benchmarking: Salaries & FTE",group:"Benchmarking",banner:"MN K12 Benchmarking"},
  {id:"bench-adm",name:"Benchmarking: ADM Detail",group:"Benchmarking",banner:"MN K12 Benchmarking"},
  {id:"bench-cohort",name:"Benchmarking: Cohort Survival",group:"Benchmarking",banner:"MN K12 Benchmarking"},
  {id:"bench-oe",name:"Benchmarking: Open Enrollment",group:"Benchmarking",banner:"MN K12 Benchmarking"},
];

const FONTS = [
  {name:"Archivo",import:"https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;600;700;800&display=swap",family:"'Archivo',sans-serif"},
  {name:"Arvo",import:"https://fonts.googleapis.com/css2?family=Arvo:wght@400;700&display=swap",family:"'Arvo',serif"},
  {name:"Barlow",import:"https://fonts.googleapis.com/css2?family=Barlow:wght@400;500;600;700;800&display=swap",family:"'Barlow',sans-serif"},
  {name:"Bitter",import:"https://fonts.googleapis.com/css2?family=Bitter:wght@400;500;600;700;800&display=swap",family:"'Bitter',serif"},
  {name:"Cabin",import:"https://fonts.googleapis.com/css2?family=Cabin:wght@400;500;600;700&display=swap",family:"'Cabin',sans-serif"},
  {name:"Cal Sans",import:"https://fonts.googleapis.com/css2?family=Cal+Sans&display=swap",family:"'Cal Sans',sans-serif"},
  {name:"Crimson Text",import:"https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;600;700&display=swap",family:"'Crimson Text',serif"},
  {name:"DM Sans",import:"https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700;800&display=swap",family:"'DM Sans',sans-serif"},
  {name:"DM Serif Display",import:"https://fonts.googleapis.com/css2?family=DM+Serif+Display&display=swap",family:"'DM Serif Display',serif"},
  {name:"EB Garamond",import:"https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500;600;700;800&display=swap",family:"'EB Garamond',serif"},
  {name:"Exo 2",import:"https://fonts.googleapis.com/css2?family=Exo+2:wght@400;500;600;700;800&display=swap",family:"'Exo 2',sans-serif"},
  {name:"Fira Sans",import:"https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;500;600;700;800&display=swap",family:"'Fira Sans',sans-serif"},
  {name:"Fraunces",import:"https://fonts.googleapis.com/css2?family=Fraunces:wght@400;500;600;700;800&display=swap",family:"'Fraunces',serif"},
  {name:"Geist",import:"https://fonts.googleapis.com/css2?family=Geist:wght@400;500;600;700;800&display=swap",family:"'Geist',sans-serif"},
  {name:"Google Sans Flex",import:"https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Google+Sans+Text:wght@400;500;700&display=swap",family:"'Google Sans Text','Google Sans',system-ui,sans-serif"},
  {name:"IBM Plex Sans",import:"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap",family:"'IBM Plex Sans',sans-serif"},
  {name:"Inter",import:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap",family:"'Inter',sans-serif"},
  {name:"Josefin Sans",import:"https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;500;600;700&display=swap",family:"'Josefin Sans',sans-serif"},
  {name:"Karla",import:"https://fonts.googleapis.com/css2?family=Karla:wght@400;500;600;700;800&display=swap",family:"'Karla',sans-serif"},
  {name:"Lato",import:"https://fonts.googleapis.com/css2?family=Lato:wght@400;700;900&display=swap",family:"'Lato',sans-serif"},
  {name:"Lexend",import:"https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;600;700;800&display=swap",family:"'Lexend',sans-serif"},
  {name:"Libre Baskerville",import:"https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&display=swap",family:"'Libre Baskerville',serif"},
  {name:"Libre Franklin",import:"https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@400;500;600;700;800&display=swap",family:"'Libre Franklin',sans-serif"},
  {name:"Lora",import:"https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&display=swap",family:"'Lora',serif"},
  {name:"Manrope",import:"https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap",family:"'Manrope',sans-serif"},
  {name:"Merriweather",import:"https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700;900&display=swap",family:"'Merriweather',serif"},
  {name:"Montserrat",import:"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap",family:"'Montserrat',sans-serif"},
  {name:"Mulish",import:"https://fonts.googleapis.com/css2?family=Mulish:wght@400;500;600;700;800&display=swap",family:"'Mulish',sans-serif"},
  {name:"Noto Sans",import:"https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700;800&display=swap",family:"'Noto Sans',sans-serif"},
  {name:"Noto Serif",import:"https://fonts.googleapis.com/css2?family=Noto+Serif:wght@400;500;600;700&display=swap",family:"'Noto Serif',serif"},
  {name:"Nunito",import:"https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&display=swap",family:"'Nunito',sans-serif"},
  {name:"Nunito Sans",import:"https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;500;600;700;800&display=swap",family:"'Nunito Sans',sans-serif"},
  {name:"Open Sans",import:"https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700;800&display=swap",family:"'Open Sans',sans-serif"},
  {name:"Oswald",import:"https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&display=swap",family:"'Oswald',sans-serif"},
  {name:"Outfit",import:"https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800&display=swap",family:"'Outfit',sans-serif"},
  {name:"Overpass",import:"https://fonts.googleapis.com/css2?family=Overpass:wght@400;500;600;700;800&display=swap",family:"'Overpass',sans-serif"},
  {name:"Playfair Display",import:"https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&display=swap",family:"'Playfair Display',serif"},
  {name:"Plus Jakarta Sans",import:"https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap",family:"'Plus Jakarta Sans',sans-serif"},
  {name:"Poppins",import:"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap",family:"'Poppins',sans-serif"},
  {name:"PT Sans",import:"https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&display=swap",family:"'PT Sans',sans-serif"},
  {name:"PT Serif",import:"https://fonts.googleapis.com/css2?family=PT+Serif:wght@400;700&display=swap",family:"'PT Serif',serif"},
  {name:"Quicksand",import:"https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap",family:"'Quicksand',sans-serif"},
  {name:"Raleway",import:"https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700;800&display=swap",family:"'Raleway',sans-serif"},
  {name:"Reddit Sans",import:"https://fonts.googleapis.com/css2?family=Reddit+Sans:wght@400;500;600;700;800&display=swap",family:"'Reddit Sans',sans-serif"},
  {name:"Roboto",import:"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap",family:"'Roboto',sans-serif"},
  {name:"Roboto Slab",import:"https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500;600;700;800&display=swap",family:"'Roboto Slab',serif"},
  {name:"Rubik",import:"https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700;800&display=swap",family:"'Rubik',sans-serif"},
  {name:"Sora",import:"https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700;800&display=swap",family:"'Sora',sans-serif"},
  {name:"Source Sans Pro",import:"https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;500;600;700;800&display=swap",family:"'Source Sans 3',sans-serif"},
  {name:"Source Serif Pro",import:"https://fonts.googleapis.com/css2?family=Source+Serif+4:wght@400;500;600;700;800&display=swap",family:"'Source Serif 4',serif"},
  {name:"Space Grotesk",import:"https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap",family:"'Space Grotesk',sans-serif"},
  {name:"Spline Sans",import:"https://fonts.googleapis.com/css2?family=Spline+Sans:wght@400;500;600;700&display=swap",family:"'Spline Sans',sans-serif"},
  {name:"Titillium Web",import:"https://fonts.googleapis.com/css2?family=Titillium+Web:wght@400;600;700&display=swap",family:"'Titillium Web',sans-serif"},
  {name:"Urbanist",import:"https://fonts.googleapis.com/css2?family=Urbanist:wght@400;500;600;700;800&display=swap",family:"'Urbanist',sans-serif"},
  {name:"Work Sans",import:"https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700;800&display=swap",family:"'Work Sans',sans-serif"},
  {name:"Zilla Slab",import:"https://fonts.googleapis.com/css2?family=Zilla+Slab:wght@400;500;600;700&display=swap",family:"'Zilla Slab',serif"},
];
const DISTRICTS = [
  {n:"0",name:"Bondwood Default",org:"",p:"#000000",s:"#0728eb",city:""},
  {n:"2396",name:"ACGC",org:"MREA",p:"#048081",s:"#ffffff",city:"Grove City"},
  {n:"2910",name:"Ada-Borup-West",org:"MREA",p:"#eb0000",s:"#000000",city:"Ada"},
  {n:"511",name:"Adrian",org:"MREA",p:"#032d9a",s:"#fefe10",city:"Adrian"},
  {n:"1",name:"Aitkin",org:"MREA",p:"#ad1e1d",s:"#000000",city:"Aitkin"},
  {n:"745",name:"Albany",org:"",p:"#380758",s:"#6d6d6d",city:"Albany"},
  {n:"241",name:"Albert Lea",org:"MREA",p:"#2f2a95",s:"#d82520",city:"Albert Lea"},
  {n:"242",name:"Alden-Conger",org:"MREA",p:"#b2353a",s:"#989898",city:"Alden"},
  {n:"206",name:"Alexandria",org:"MREA",p:"#dc1a32",s:"#fecd33",city:"Alexandria"},
  {n:"876",name:"Annandale",org:"",p:"#e20000",s:"#242424",city:"Annandale"},
  {n:"11",name:"Anoka-Hennepin",org:"AMSD",p:"#012d5d",s:"#012d5d",city:"Anoka"},
  {n:"261",name:"Ashby",org:"MREA",p:"#7b0019",s:"#fec421",city:"Ashby"},
  {n:"492",name:"Austin",org:"",p:"#95171b",s:"#ffffff",city:"Austin"},
  {n:"676",name:"Badger",org:"MREA",p:"#2d8741",s:"#000000",city:"Badger"},
  {n:"162",name:"Bagley",org:"MREA",p:"#8f2d2c",s:"#f0cb27",city:"Bagley"},
  {n:"146",name:"Barnesville",org:"MREA",p:"#429f44",s:"#ca532d",city:"Barnesville"},
  {n:"91",name:"Barnum",org:"MREA",p:"#3e0001",s:"#f9cf1f",city:"Barnum"},
  {n:"542",name:"Battle Lake",org:"MREA",p:"#002B5B",s:"#ffffff",city:"Battle Lake"},
  {n:"726",name:"Becker",org:"",p:"#1e69af",s:"#eeeeee",city:"Becker"},
  {n:"2364",name:"Belgrade-Brooten-Elrosa",org:"MREA",p:"#384ad3",s:"#000000",city:"Belgrade"},
  {n:"716",name:"Belle Plaine",org:"",p:"#72111a",s:"#000000",city:"Belle Plaine"},
  {n:"31",name:"Bemidji",org:"MREA",p:"#0000cc",s:"#000000",city:"Bemidji"},
  {n:"777",name:"Benson",org:"MREA",p:"#680000",s:"#ffcc00",city:"Benson"},
  {n:"786",name:"Bertha-Hewitt",org:"MREA",p:"#121549",s:"#ea1c25",city:"Bertha"},
  {n:"727",name:"Big Lake",org:"",p:"#004983",s:"#fdb813",city:"Big Lake"},
  {n:"2534",name:"Bird Island-Olivia-Lake Lillian",org:"MREA",p:"#f11020",s:"#000000",city:"Olivia"},
  {n:"32",name:"Blackduck",org:"MREA",p:"#0000cc",s:"#000000",city:"Blackduck"},
  {n:"756",name:"Blooming Prairie",org:"MREA",p:"#000000",s:"#919191",city:"Blooming Prairie"},
  {n:"271",name:"Bloomington",org:"AMSD",p:"#2f8dbc",s:"#2f8dbc",city:"Bloomington"},
  {n:"2860",name:"Blue Earth Area School",org:"MREA",p:"#7a0019",s:"#ffcc33",city:"Blue Earth"},
  {n:"314",name:"Braham",org:"",p:"#164468",s:"#2c9df2",city:"Braham"},
  {n:"181",name:"Brainerd",org:"MREA",p:"#0066b2",s:"#ffffff",city:"Brainerd"},
  {n:"2908",name:"Brandon-Evansville",org:"MREA",p:"#0039d0",s:"#eec60d",city:"Brandon"},
  {n:"846",name:"Breckenridge",org:"MREA",p:"#14bc00",s:"#ffffff",city:"Breckenridge"},
  {n:"286",name:"Brooklyn Center",org:"AMSD",p:"#612B9C",s:"#ffffff",city:"Brooklyn Center"},
  {n:"787",name:"Browerville",org:"MREA",p:"#b64f1d",s:"#313131",city:"Browerville"},
  {n:"801",name:"Browns Valley",org:"MREA",p:"#6f1a21",s:"#ffffff",city:"Browns Valley"},
  {n:"2159",name:"Buffalo Lk-Hector-Stewart Sc",org:"MREA",p:"#0139ad",s:"#ffffff",city:"Hector"},
  {n:"877",name:"Buffalo-Hanover-Montrose",org:"AMSD",p:"#48308A",s:"#ffffff",city:"Buffalo"},
  {n:"191",name:"Burnsville",org:"AMSD",p:"#FFD334",s:"#000000",city:"Burnsville"},
  {n:"836",name:"Butterfield",org:"MREA",p:"#e51b20",s:"#000000",city:"Butterfield"},
  {n:"531",name:"Byron",org:"",p:"#ffc60b",s:"#3a3a3c",city:"Byron"},
  {n:"299",name:"Caledonia",org:"MREA",p:"#c5b357",s:"#271d05",city:"Caledonia"},
  {n:"911",name:"Cambridge-Isanti",org:"MREA",p:"#00338d",s:"#c60c30",city:"Cambridge"},
  {n:"852",name:"Campbell-Tintah",org:"MREA",p:"#5519ba",s:"#f1c40f",city:"Campbell"},
  {n:"891",name:"Canby",org:"MREA",p:"#1f27b4",s:"#ec6b14",city:"Canby"},
  {n:"252",name:"Cannon Falls",org:"MREA",p:"#b92127",s:"#000000",city:"Cannon Falls"},
  {n:"93",name:"Carlton",org:"",p:"#4d0000",s:"#ee4c24",city:"Carlton"},
  {n:"115",name:"Cass Lake-Bena",org:"MREA",p:"#21448a",s:"#983636",city:"Cass Lake"},
  {n:"2754",name:"Cedar Mountain",org:"MREA",p:"#70cffa",s:"#222222",city:"Morgan"},
  {n:"12",name:"Centennial",org:"AMSD",p:"#D2112A",s:"#ffffff",city:"Circle Pines"},
  {n:"108",name:"Central",org:"",p:"#e66425",s:"#cf7f00",city:"Norwood Young America"},
  {n:"227",name:"Chatfield",org:"MREA",p:"#76232f",s:"#eaeaea",city:"Chatfield"},
  {n:"2144",name:"Chisago Lakes",org:"",p:"#00502f",s:"#d1cf89",city:"Chisago City"},
  {n:"695",name:"Chisholm",org:"MREA",p:"#df0001",s:"#0802f6",city:"Chisholm"},
  {n:"771",name:"Chokio-Alberta",org:"MREA",p:"#d00707",s:"#1958b2",city:"Chokio"},
  {n:"2311",name:"Clearbrook-Gonvick",org:"MREA",p:"#f3a516",s:"#000000",city:"Clearbrook"},
  {n:"391",name:"Cleveland",org:"MREA",p:"#d04100",s:"#ffffff",city:"Cleveland"},
  {n:"592",name:"Climax-Shelly",org:"MREA",p:"#c0c0c0",s:"#000000",city:"Climax"},
  {n:"2888",name:"Clinton-Graceville-Beardsley",org:"MREA",p:"#1d4589",s:"#a7a9ac",city:"Clinton"},
  {n:"94",name:"Cloquet",org:"MREA",p:"#104995",s:"#ffffff",city:"Cloquet"},
  {n:"13",name:"Columbia Heights",org:"AMSD",p:"#22284e",s:"#fdd009",city:"Columbia Heights"},
  {n:"81",name:"Comfrey",org:"",p:"#02546d",s:"#000000",city:"Comfrey"},
  {n:"166",name:"Cook County",org:"MREA",p:"#0000cd",s:"#e5ac0c",city:"Grand Marais"},
  {n:"95",name:"Cromwell-Wright",org:"MREA",p:"#610066",s:"#000000",city:"Cromwell"},
  {n:"593",name:"Crookston",org:"MREA",p:"#041e42",s:"#f1c400",city:"Crookston"},
  {n:"182",name:"Crosby-Ironton",org:"",p:"#6a1c33",s:"#a8a8a8",city:"Crosby"},
  {n:"466",name:"Dassel-Cokato",org:"MREA",p:"#1b2754",s:"#000000",city:"Cokato"},
  {n:"378",name:"Dawson-Boyd",org:"MREA",p:"#000000",s:"#fdbc3d",city:"Dawson"},
  {n:"317",name:"Deer River",org:"MREA",p:"#3a5dae",s:"#e5ebf7",city:"Deer River"},
  {n:"879",name:"Delano",org:"",p:"#cb4506",s:"#000000",city:"Delano"},
  {n:"22",name:"Detroit Lakes",org:"MREA",p:"#19346a",s:"#ffffff",city:"Detroit Lakes"},
  {n:"2164",name:"Dilworth-Glyndon-Felton",org:"MREA",p:"#383a3b",s:"#2c2d2f",city:"Dilworth"},
  {n:"533",name:"Dover-Eyota",org:"MREA",p:"#6e0a22",s:"#eaae26",city:"Eyota"},
  {n:"709",name:"Duluth",org:"AMSD",p:"#c42630",s:"#ffffff",city:"Duluth"},
  {n:"595",name:"EaSt. Grand Forks",org:"MREA",p:"#30600e",s:"#ffffff",city:"East Grand Forks"},
  {n:"2580",name:"East Central",org:"",p:"#003da5",s:"#020817",city:"Finlayson"},
  {n:"112",name:"Eastern Carver County",org:"AMSD",p:"#012f6b",s:"#B7A56E",city:"Chaska"},
  {n:"272",name:"Eden Prairie",org:"AMSD",p:"#D5292F",s:"#000000",city:"Eden Prairie"},
  {n:"463",name:"Eden Valley-Watkins",org:"MREA",p:"#0a1b4e",s:"#ffffff",city:"Eden Valley"},
  {n:"581",name:"Edgerton",org:"MREA",p:"#a61518",s:"#000000",city:"Edgerton"},
  {n:"273",name:"Edina",org:"AMSD",p:"#005826",s:"#ffaf1d",city:"Edina"},
  {n:"728",name:"Elk River",org:"AMSD",p:"#414284",s:"#414284",city:"Elk River"},
  {n:"514",name:"Ellsworth",org:"MREA",p:"#621c0d",s:"#f4b12f",city:"Ellsworth"},
  {n:"696",name:"Ely",org:"MREA",p:"#b80000",s:"#000000",city:"Ely"},
  {n:"99",name:"Esko",org:"MREA",p:"#351f0b",s:"#f2d449",city:"Esko"},
  {n:"2752",name:"Fairmont Area",org:"MREA",p:"#7c0601",s:"#ffffff",city:"Fairmont"},
  {n:"656",name:"Faribault",org:"",p:"#124736",s:"#d0d2d4",city:"Faribault"},
  {n:"192",name:"Farmington",org:"AMSD",p:"#B6441A",s:"#ffffff",city:"Farmington"},
  {n:"544",name:"Fergus Falls",org:"MREA",p:"#efbb45",s:"#6b2525",city:"Fergus Falls"},
  {n:"599",name:"Fertile-Beltrami",org:"MREA",p:"#000033",s:"#92000a",city:"Fertile"},
  {n:"2198",name:"Fillmore Central",org:"MREA",p:"#015f60",s:"#000000",city:"Preston"},
  {n:"600",name:"Fisher",org:"MREA",p:"#0b2f5b",s:"#1d4379",city:"Fisher"},
  {n:"698",name:"Floodwood",org:"MREA",p:"#4b1670",s:"#fabf37",city:"Floodwood"},
  {n:"51",name:"Foley",org:"MREA",p:"#015eb7",s:"#000000",city:"Foley"},
  {n:"831",name:"Forest Lake",org:"",p:"#96002e",s:"#ffd200",city:"Forest Lake"},
  {n:"601",name:"Fosston",org:"MREA",p:"#690000",s:"#ffffff",city:"Fosston"},
  {n:"323",name:"Franconia",org:"",p:"#0d7d4f",s:"#fcc00f",city:""},
  {n:"23",name:"Frazee-Vergas",org:"MREA",p:"#056940",s:"#056940",city:"Frazee"},
  {n:"14",name:"Fridley",org:"AMSD",p:"#000000",s:"#FCD450",city:"Fridley"},
  {n:"505",name:"Fulda",org:"MREA",p:"#ef001c",s:"#ffffff",city:"Fulda"},
  {n:"2365",name:"GFW",org:"MREA",p:"#ca0d14",s:"#b7b481",city:"Gibbon"},
  {n:"2859",name:"Glencoe-Silver Lake",org:"",p:"#660099",s:"#ffffff",city:"Glencoe"},
  {n:"2886",name:"Glenville-Emmons",org:"MREA",p:"#1e327b",s:"#a1a3a4",city:"Glenville"},
  {n:"253",name:"Goodhue",org:"MREA",p:"#582c83",s:"#000000",city:"Goodhue"},
  {n:"561",name:"Goodridge",org:"MREA",p:"#223a73",s:"#c29f45",city:"Goodridge"},
  {n:"2536",name:"Granada Huntley-EaSt. Chain",org:"MREA",p:"#2e0a42",s:"#ffffff",city:"Granada"},
  {n:"495",name:"Grand Meadow",org:"MREA",p:"#48308A",s:"#ffffff",city:"Grand Meadow"},
  {n:"318",name:"Grand Rapids",org:"MREA",p:"#607583",s:"#242424",city:"Grand Rapids"},
  {n:"2683",name:"Greenbush-Middle River",org:"MREA",p:"#0c3b2e",s:"#ffffff",city:"Greenbush"},
  {n:"316",name:"Greenway",org:"MREA",p:"#0d814b",s:"#ffffff",city:"Coleraine"},
  {n:"447",name:"Grygla",org:"MREA",p:"#0f00c6",s:"#000000",city:"Grygla"},
  {n:"768",name:"Hancock",org:"MREA",p:"#660e0e",s:"#e0d6a7",city:"Hancock"},
  {n:"200",name:"Hastings",org:"AMSD",p:"#092969",s:"#ffce33",city:"Hastings"},
  {n:"150",name:"Hawley",org:"MREA",p:"#6d191a",s:"#fdb726",city:"Hawley"},
  {n:"203",name:"Hayfield",org:"MREA",p:"#143dcf",s:"#ffffff",city:"Hayfield"},
  {n:"402",name:"Hendricks",org:"MREA",p:"#c81313",s:"#ffffff",city:"Hendricks"},
  {n:"545",name:"Henning",org:"MREA",p:"#f48c0f",s:"#000000",city:"Henning"},
  {n:"264",name:"Herman-Norcross",org:"",p:"#ea5500",s:"#000000",city:"Herman"},
  {n:"700",name:"Hermantown",org:"MREA",p:"#052b48",s:"#cb9a2b",city:"Hermantown"},
  {n:"330",name:"Heron Lake-Okabena",org:"MREA",p:"#243af7",s:"#c5cfd2",city:"Okabena"},
  {n:"701",name:"Hibbing",org:"MREA",p:"#112846",s:"#ffffff",city:"Hibbing"},
  {n:"2",name:"Hill City",org:"MREA",p:"#5c1a86",s:"#ffffff",city:"Hill City"},
  {n:"671",name:"Hills-Beaver Creek",org:"MREA",p:"#0a217f",s:"#fd0001",city:"Hills"},
  {n:"2165",name:"Hinckley-Finlayson",org:"",p:"#000000",s:"#ff0000",city:"Hinckley"},
  {n:"738",name:"Holdingford",org:"MREA",p:"#1c5b2e",s:"#000000",city:"Holdingford"},
  {n:"270",name:"Hopkins",org:"AMSD",p:"#0068a8",s:"#0068a8",city:"Hopkins"},
  {n:"294",name:"Houston",org:"MREA",p:"#e81610",s:"#e81610",city:"Houston"},
  {n:"2687",name:"Howard Lake-Waverly-Winsted",org:"MREA",p:"#002a54",s:"#ffc20e",city:"Howard Lake"},
  {n:"423",name:"Hutchinson",org:"MREA",p:"#000000",s:"#fdbc3d",city:"Hutchinson"},
  {n:"361",name:"International Falls",org:"MREA",p:"#5c3181",s:"#feb625",city:"International Falls"},
  {n:"199",name:"Inver Grove Heights",org:"AMSD",p:"#007DC2",s:"#ee2e24",city:"Inver Grove Heights"},
  {n:"473",name:"Isle",org:"",p:"#c20e2f",s:"#fcb818",city:"Isle"},
  {n:"403",name:"Ivanhoe",org:"MREA",p:"#d42531",s:"#000000",city:"Ivanhoe"},
  {n:"2895",name:"Jackson County Central",org:"MREA",p:"#103357",s:"#ffffff",city:"Jackson"},
  {n:"2835",name:"Janesville-Waldorf-Pemberton",org:"MREA",p:"#1d76a9",s:"#2d95cb",city:"Janesville"},
  {n:"717",name:"Jordan",org:"",p:"#7a0019",s:"#ffce31",city:"Jordan"},
  {n:"204",name:"Kasson-Mantorville",org:"",p:"#383e89",s:"#fd3734",city:"Kasson"},
  {n:"36",name:"Kelliher",org:"MREA",p:"#670212",s:"#eaeaea",city:"Kelliher"},
  {n:"2172",name:"Kenyon-Wanamingo",org:"",p:"#d82332",s:"#000000",city:"Kenyon"},
  {n:"775",name:"Kerkhoven-Murdock-Sunburg",org:"MREA",p:"#25347b",s:"#eb2227",city:"Kerkhoven"},
  {n:"739",name:"Kimball",org:"MREA",p:"#000691",s:"#e7c02b",city:"Kimball"},
  {n:"2137",name:"Kingsland",org:"MREA",p:"#000000",s:"#ffffff",city:"Spring Valley"},
  {n:"2171",name:"Kittson Central",org:"MREA",p:"#741d14",s:"#cdb586",city:"Hallock"},
  {n:"300",name:"La Crescent-Hokah",org:"MREA",p:"#4cba18",s:"#101820",city:"La Crescent"},
  {n:"2853",name:"Lac Qui Parle Valley",org:"MREA",p:"#d40131",s:"#000000",city:"Madison"},
  {n:"404",name:"Lake Benton",org:"MREA",p:"#ffcc02",s:"#000000",city:"Lake Benton"},
  {n:"813",name:"Lake City",org:"MREA",p:"#ea5528",s:"#ffffff",city:"Lake City"},
  {n:"2071",name:"Lake Crystal-Wellcome Memorial",org:"MREA",p:"#002d72",s:"#ffffff",city:"Lake Crystal"},
  {n:"390",name:"Lake Of The Woods",org:"MREA",p:"#5b1929",s:"#fdba2d",city:"Baudette"},
  {n:"2889",name:"Lake Park Audubon",org:"MREA",p:"#c9203b",s:"#000000",city:"Lake Park"},
  {n:"381",name:"Lake Superior",org:"MREA",p:"#8f302e",s:"#384259",city:"Two Harbors"},
  {n:"2167",name:"Lakeview",org:"MREA",p:"#000000",s:"#0f1e7b",city:"Cottonwood"},
  {n:"194",name:"Lakeville",org:"AMSD",p:"#AF2936",s:"#aa1f2e",city:"Lakeville"},
  {n:"356",name:"Lancaster",org:"MREA",p:"#97161b",s:"#0b360b",city:"Lancaster"},
  {n:"229",name:"Lanesboro",org:"MREA",p:"#f68748",s:"#000000",city:"Lanesboro"},
  {n:"306",name:"Laporte",org:"MREA",p:"#350656",s:"#ffcc02",city:"Laporte"},
  {n:"2397",name:"Le Sueur-Henderson",org:"",p:"#1f4b9e",s:"#fcb800",city:"Le Sueur"},
  {n:"499",name:"Leroy-Ostrander",org:"",p:"#ab0d01",s:"#ffffff",city:"LeRoy"},
  {n:"424",name:"Lester Prairie",org:"MREA",p:"#690e20",s:"#ffbd53",city:"Lester Prairie"},
  {n:"857",name:"Lewiston-Altura",org:"MREA",p:"#c01309",s:"#000000",city:"Lewiston"},
  {n:"465",name:"Litchfield",org:"",p:"#17aa59",s:"#000000",city:"Litchfield"},
  {n:"482",name:"Little Falls",org:"MREA",p:"#48308A",s:"#ffffff",city:"Little Falls"},
  {n:"362",name:"Littlefork-Big Falls",org:"MREA",p:"#c14d00",s:"#474747",city:"Littlefork"},
  {n:"2753",name:"Long Prairie-Grey Eagle",org:"MREA",p:"#0077c0",s:"#231f20",city:"Long Prairie"},
  {n:"2184",name:"Luverne",org:"MREA",p:"#e90c17",s:"#ffffff",city:"Luverne"},
  {n:"497",name:"Lyle",org:"",p:"#004ed6",s:"#ffffff",city:"Lyle"},
  {n:"415",name:"Lynd",org:"MREA",p:"#ff0000",s:"#000000",city:"Lynd"},
  {n:"238",name:"Mabel-Canton",org:"MREA",p:"#000098",s:"#ff0000",city:"Mabel"},
  {n:"2180",name:"Maccray",org:"MREA",p:"#171796",s:"#06af43",city:"Clara City"},
  {n:"837",name:"Madelia",org:"MREA",p:"#f15619",s:"#ffffff",city:"Madelia"},
  {n:"432",name:"Mahnomen",org:"MREA",p:"#036064",s:"#000000",city:"Mahnomen"},
  {n:"832",name:"Mahtomedi",org:"AMSD",p:"#002369",s:"#000000",city:"Mahtomedi"},
  {n:"77",name:"Mankato",org:"",p:"#ff3019",s:"#cbe1ec",city:"Mankato"},
  {n:"881",name:"Maple Lake",org:"MREA",p:"#045708",s:"#000000",city:"Maple Lake"},
  {n:"2135",name:"Maple River",org:"MREA",p:"#0a974b",s:"#0058b8",city:"Mapleton"},
  {n:"413",name:"Marshall",org:"MREA",p:"#fa4614",s:"#000000",city:"Marshall"},
  {n:"441",name:"Marshall County Central",org:"MREA",p:"#72b4de",s:"#ffffff",city:"Newfolden"},
  {n:"2448",name:"Martin County West",org:"MREA",p:"#0000cd",s:"#000000",city:"Sherburn"},
  {n:"4",name:"Mcgregor",org:"MREA",p:"#000000",s:"#ad0015",city:"McGregor"},
  {n:"763",name:"Medford",org:"MREA",p:"#76232f",s:"#ffbf3f",city:"Medford"},
  {n:"740",name:"Melrose",org:"",p:"#514a95",s:"#ffdb3d",city:"Melrose"},
  {n:"821",name:"Menahga",org:"MREA",p:"#f57e20",s:"#000000",city:"Menahga"},
  {n:"2711",name:"Mesabi East",org:"MREA",p:"#3d3939",s:"#d41f1f",city:"Aurora"},
  {n:"912",name:"Milaca",org:"MREA",p:"#df1f29",s:"#000000",city:"Milaca"},
  {n:"635",name:"Milroy",org:"",p:"#4b5aa7",s:"#ffffff",city:"Milroy"},
  {n:"1.2",name:"Minneapolis",org:"AMSD",p:"#221b2f",s:"#000000",city:"Minneapolis"},
  {n:"414",name:"Minneota",org:"MREA",p:"#023792",s:"#fec901",city:"Minneota"},
  {n:"276",name:"Minnetonka",org:"AMSD",p:"#263777",s:"#263777",city:"Minnetonka"},
  {n:"2149",name:"Minnewaska",org:"MREA",p:"#005f9e",s:"#009448",city:"Glenwood"},
  {n:"129",name:"Montevideo",org:"MREA",p:"#22113b",s:"#f7bd18",city:"Montevideo"},
  {n:"882",name:"Monticello",org:"",p:"#000000",s:"#d50507",city:"Monticello"},
  {n:"152",name:"Moorhead",org:"MREA",p:"#14191d",s:"#fe5000",city:"Moorhead"},
  {n:"97",name:"Moose Lake",org:"MREA",p:"#cc0000",s:"#ffffff",city:"Moose Lake"},
  {n:"332",name:"Mora",org:"MREA",p:"#0237ad",s:"#c7cccd",city:"Mora"},
  {n:"2769",name:"Morris Area",org:"MREA",p:"#ff6600",s:"#000000",city:"Morris"},
  {n:"621",name:"Mounds View",org:"AMSD",p:"#005CAB",s:"#000000",city:"Shoreview"},
  {n:"712",name:"Mountain Iron-Buhl",org:"MREA",p:"#a60000",s:"#000000",city:"Mountain Iron"},
  {n:"173",name:"Mountain Lake",org:"MREA",p:"#7e2326",s:"#818286",city:"Mountain Lake"},
  {n:"2169",name:"Murray County Central",org:"MREA",p:"#542b7b",s:"#000000",city:"Slayton"},
  {n:"319",name:"Nashwauk-Keewatin",org:"MREA",p:"#232d65",s:"#f16c21",city:"Nashwauk"},
  {n:"707",name:"Nett Lake",org:"MREA",p:"#002688",s:"#bbdffa",city:"Nett Lake"},
  {n:"308",name:"Nevis",org:"MREA",p:"#034a01",s:"#ffcc33",city:"Nevis"},
  {n:"345",name:"New London-Spicer",org:"MREA",p:"#ffda00",s:"#ffda00",city:"New London"},
  {n:"721",name:"New Prague Area Schools",org:"",p:"#8b2332",s:"#000000",city:"New Prague"},
  {n:"2168",name:"New Richland-Hartland-Ellendale-Geneva",org:"MREA",p:"#bc0217",s:"#000000",city:"New Richland"},
  {n:"88",name:"New Ulm",org:"MREA",p:"#661122",s:"#ffffff",city:"New Ulm"},
  {n:"553",name:"New York Mills",org:"MREA",p:"#002366",s:"#ff0000",city:"New York Mills"},
  {n:"507",name:"Nicollet",org:"MREA",p:"#22409a",s:"#000000",city:"Nicollet"},
  {n:"2215",name:"Norman County East",org:"MREA",p:"#163398",s:"#fdcb01",city:"Twin Valley"},
  {n:"138",name:"North Branch",org:"MREA",p:"#de1a32",s:"#000000",city:"North Branch"},
  {n:"622",name:"North St. Paul-Maplewood Oakdale",org:"AMSD",p:"#EC1F27",s:"#ec1f27",city:"North Saint Paul"},
  {n:"659",name:"Northfield",org:"",p:"#731b36",s:"#ffca37",city:"Northfield"},
  {n:"118",name:"Northland Community Schools",org:"MREA",p:"#000000",s:"#c5b358",city:"Remer"},
  {n:"333",name:"Ogilvie",org:"MREA",p:"#eb8e24",s:"#241f1f",city:"Ogilvie"},
  {n:"480",name:"Onamia",org:"MREA",p:"#ffb71c",s:"#c20f2f",city:"Onamia"},
  {n:"278",name:"Orono",org:"AMSD",p:"#23408A",s:"#b5121b",city:"Long Lake"},
  {n:"2903",name:"Ortonville",org:"MREA",p:"#ef760e",s:"#000000",city:"Ortonville"},
  {n:"213",name:"Osakis",org:"MREA",p:"#cc0333",s:"#f1f1f1",city:"Osakis"},
  {n:"279",name:"Osseo",org:"AMSD",p:"#3C1E56",s:"#f7b03f",city:"Maple Grove"},
  {n:"761",name:"Owatonna",org:"",p:"#1f419a",s:"#ffffff",city:"Owatonna"},
  {n:"309",name:"Park Rapids",org:"MREA",p:"#eb6114",s:"#292929",city:"Park Rapids"},
  {n:"547",name:"Parkers Prairie",org:"MREA",p:"#ebab0b",s:"#710505",city:"Parkers Prairie"},
  {n:"741",name:"Paynesville",org:"MREA",p:"#37ab46",s:"#006b33",city:"Paynesville"},
  {n:"548",name:"Pelican Rapids",org:"MREA",p:"#f37021",s:"#000000",city:"Pelican Rapids"},
  {n:"186",name:"Pequot Lakes",org:"MREA",p:"#004c8a",s:"#c7381f",city:"Pequot Lakes"},
  {n:"549",name:"Perham-Dent",org:"MREA",p:"#fdb827",s:"#ffd401",city:"Perham"},
  {n:"484",name:"Pierz",org:"MREA",p:"#e01f28",s:"#000000",city:"Pierz"},
  {n:"116",name:"Pillager",org:"MREA",p:"#572932",s:"#ffcc33",city:"Pillager"},
  {n:"578",name:"Pine City",org:"MREA",p:"#1c5f30",s:"#ffffff",city:"Pine City"},
  {n:"255",name:"Pine Island",org:"MREA",p:"#510400",s:"#ffbf3f",city:"Pine Island"},
  {n:"25",name:"Pine Point",org:"MREA",p:"#056940",s:"#470200",city:"Ponsford"},
  {n:"2174",name:"Pine River-Backus",org:"MREA",p:"#ff6704",s:"#000000",city:"Pine River"},
  {n:"2689",name:"Pipestone Area",org:"MREA",p:"#0b5c19",s:"#ffffff",city:"Pipestone"},
  {n:"2899",name:"Plainview-Elgin-Millville",org:"MREA",p:"#6d6d6d",s:"#fecd08",city:"Plainview"},
  {n:"477",name:"Princeton",org:"MREA",p:"#f47c20",s:"#211e1f",city:"Princeton"},
  {n:"815",name:"Prinsburg",org:"",p:"#00295e",s:"#ffffff",city:""},
  {n:"719",name:"Prior Lake-Savage",org:"AMSD",p:"#000000",s:"#00496E",city:"Prior Lake"},
  {n:"704",name:"Proctor",org:"MREA",p:"#0b4c2a",s:"#000000",city:"Proctor"},
  {n:"195",name:"Randolph",org:"",p:"#005cb7",s:"#e05527",city:"Randolph"},
  {n:"38",name:"Red Lake",org:"MREA",p:"#aa0112",s:"#ffffff",city:"Red Lake"},
  {n:"2906",name:"Red Lake County Central",org:"MREA",p:"#ff1111",s:"#0512f6",city:"Oklee"},
  {n:"630",name:"Red Lake Falls",org:"MREA",p:"#6c53b5",s:"#e5af00",city:"Red Lake Falls"},
  {n:"2884",name:"Red Rock Central",org:"MREA",p:"#c10320",s:"#ffffff",city:"Lamberton"},
  {n:"256",name:"Red Wing",org:"MREA",p:"#5c4b7d",s:"#942828",city:"Red Wing"},
  {n:"2897",name:"Redwood Area",org:"MREA",p:"#c42121",s:"#ffffff",city:"Redwood Falls"},
  {n:"2890",name:"Renville County West",org:"MREA",p:"#182a54",s:"#fec52e",city:"Renville"},
  {n:"280",name:"Richfield",org:"AMSD",p:"#761a1c",s:"#ffffff",city:"Richfield"},
  {n:"281",name:"Robbinsdale",org:"AMSD",p:"#002D72",s:"#3598da",city:"New Hope"},
  {n:"535",name:"Rochester",org:"AMSD",p:"#002B5B",s:"#ffa913",city:"Rochester"},
  {n:"2909",name:"Rock Ridge",org:"MREA",p:"#00784d",s:"#000000",city:"Virginia"},
  {n:"883",name:"Rockford",org:"AMSD",p:"#037614",s:"#000000",city:"Rockford"},
  {n:"750",name:"Rocori",org:"",p:"#e6262b",s:"#ffffff",city:"Cold Spring"},
  {n:"682",name:"Roseau",org:"MREA",p:"#003005",s:"#ffffff",city:"Roseau"},
  {n:"196",name:"Rosemount-Apple Valley-Eagan",org:"AMSD",p:"#0079A7",s:"#f04e3e",city:"Rosemount"},
  {n:"623",name:"Roseville",org:"AMSD",p:"#ac0000",s:"#1a1a1a",city:"Roseville"},
  {n:"850",name:"Rothsay",org:"MREA",p:"#002998",s:"#ffc632",city:"Rothsay"},
  {n:"2907",name:"Round Lake-Brewster",org:"MREA",p:"#1e4eb9",s:"#ffffff",city:"Brewster"},
  {n:"485",name:"Royalton",org:"MREA",p:"#6b0002",s:"#c7aa70",city:"Royalton"},
  {n:"139",name:"Rush City",org:"",p:"#003896",s:"#ffcb11",city:"Rush City"},
  {n:"239",name:"Rushford-Peterson",org:"MREA",p:"#154734",s:"#fec52f",city:"Rushford"},
  {n:"2902",name:"Russell Tyler Ruthton",org:"MREA",p:"#204abf",s:"#ffffff",city:"Tyler"},
  {n:"748",name:"Sartell-St. Stephen",org:"",p:"#0e3f8e",s:"#ffffff",city:"Sartell"},
  {n:"743",name:"Sauk Centre",org:"MREA",p:"#781612",s:"#000000",city:"Sauk Centre"},
  {n:"47",name:"Sauk Rapids-Rice",org:"MREA",p:"#155733",s:"#ffcb31",city:"Sauk Rapids"},
  {n:"820",name:"Sebeka",org:"MREA",p:"#421f62",s:"#daa520",city:"Sebeka"},
  {n:"720",name:"Shakopee",org:"AMSD",p:"#2c2926",s:"#ee3e34",city:"Shakopee"},
  {n:"2310",name:"Sibley East",org:"MREA",p:"#dfab3b",s:"#000000",city:"Arlington"},
  {n:"84",name:"Sleepy Eye",org:"MREA",p:"#03470e",s:"#000000",city:"Sleepy Eye"},
  {n:"363",name:"South Koochiching",org:"MREA",p:"#254c8f",s:"#ffffff",city:"Northome"},
  {n:"6",name:"South St. Paul",org:"AMSD",p:"#121517",s:"#5E0B0E",city:"South Saint Paul"},
  {n:"833",name:"South Washington County",org:"AMSD",p:"#871530",s:"#000000",city:"Cottage Grove"},
  {n:"500",name:"Southland",org:"MREA",p:"#073f82",s:"#d71920",city:"Adams"},
  {n:"297",name:"Spring Grove",org:"MREA",p:"#003087",s:"#ffffff",city:"Spring Grove"},
  {n:"16",name:"Spring Lake Park",org:"AMSD",p:"#193369",s:"#dc1e35",city:"Spring Lake Park"},
  {n:"85",name:"Springfield",org:"MREA",p:"#520e1b",s:"#ff7f00",city:"Springfield"},
  {n:"282",name:"St. Anthony-New Brighton",org:"AMSD",p:"#024cb4",s:"#024cb4",city:"Saint Anthony"},
  {n:"858",name:"St. Charles",org:"MREA",p:"#000000",s:"#e16311",city:"Saint Charles"},
  {n:"75",name:"St. Clair",org:"MREA",p:"#005eb7",s:"#000000",city:"Saint Clair"},
  {n:"742",name:"St. Cloud",org:"AMSD",p:"#91C743",s:"#000000",city:"Waite Park"},
  {n:"15",name:"St. Francis",org:"",p:"#00205a",s:"#00205a",city:"Saint Francis"},
  {n:"840",name:"St. James",org:"MREA",p:"#d22f31",s:"#ffffff",city:"Saint James"},
  {n:"2142",name:"St. Louis County",org:"MREA",p:"#0d6046",s:"#000000",city:"Virginia"},
  {n:"283",name:"St. Louis Park",org:"AMSD",p:"#000000",s:"#FC9312",city:"Saint Louis Park"},
  {n:"885",name:"St. Michael-Albertville",org:"AMSD",p:"#00138B",s:"#000000",city:"Albertville"},
  {n:"625",name:"St. Paul",org:"AMSD",p:"#0075BF",s:"#ffffff",city:"Saint Paul"},
  {n:"508",name:"St. Peter",org:"MREA",p:"#002f5b",s:"#ffffff",city:"Saint Peter"},
  {n:"2170",name:"Staples-Motley",org:"MREA",p:"#d20d20",s:"#000000",city:"Staples"},
  {n:"2856",name:"Stephen-Argyle Central",org:"MREA",p:"#455968",s:"#f5c209",city:"Stephen"},
  {n:"534",name:"Stewartville",org:"",p:"#571523",s:"#fdbd3f",city:"Stewartville"},
  {n:"834",name:"Stillwater",org:"AMSD",p:"#D61B22",s:"#000000",city:"Stillwater"},
  {n:"486",name:"Swanville",org:"MREA",p:"#003698",s:"#3b72cc",city:"Swanville"},
  {n:"564",name:"Thief River Falls",org:"MREA",p:"#0054a6",s:"#ffc40d",city:"Thief River Falls"},
  {n:"2904",name:"Tracy Area",org:"MREA",p:"#1b1486",s:"#bf091d",city:"Tracy"},
  {n:"2905",name:"Tri-City United",org:"MREA",p:"#1a6092",s:"#cfd4db",city:"Montgomery"},
  {n:"2358",name:"Tri-County",org:"MREA",p:"#82caff",s:"#151b54",city:"Karlstad"},
  {n:"2125",name:"Triton",org:"MREA",p:"#8c011a",s:"#ffffff",city:"Dodge Center"},
  {n:"458",name:"Truman",org:"MREA",p:"#52006f",s:"#000000",city:"Truman"},
  {n:"914",name:"Ulen-Hitterdal",org:"MREA",p:"#00004c",s:"#ffde16",city:"Ulen"},
  {n:"550",name:"Underwood",org:"MREA",p:"#000000",s:"#f07600",city:"Underwood"},
  {n:"2134",name:"United South Central",org:"MREA",p:"#000080",s:"#d7021c",city:"Wells"},
  {n:"487",name:"Upsala",org:"MREA",p:"#95171b",s:"#000000",city:"Upsala"},
  {n:"818",name:"Verndale",org:"MREA",p:"#2e700e",s:"#ffffff",city:"Verndale"},
  {n:"811",name:"Wabasha-Kellogg",org:"MREA",p:"#e90c2b",s:"#000000",city:"Wabasha"},
  {n:"640",name:"Wabasso",org:"MREA",p:"#680918",s:"#daa521",city:"Wabasso"},
  {n:"110",name:"Waconia",org:"",p:"#672891",s:"#ffc700",city:"Waconia"},
  {n:"2155",name:"Wadena-Deer Creek",org:"MREA",p:"#024f9d",s:"#f8d246",city:"Wadena"},
  {n:"113",name:"Walker-Hackensack-Akeley",org:"MREA",p:"#003d79",s:"#eebf1f",city:"Walker"},
  {n:"2176",name:"Warren-Alvarado-Oslo",org:"MREA",p:"#ff6600",s:"#000000",city:"Warren"},
  {n:"690",name:"Warroad",org:"MREA",p:"#ffc10e",s:"#000000",city:"Warroad"},
  {n:"829",name:"Waseca",org:"MREA",p:"#021f72",s:"#fbd804",city:"Waseca"},
  {n:"111",name:"Watertown-Mayer",org:"MREA",p:"#003c71",s:"#bf0d3e",city:"Watertown"},
  {n:"2143",name:"Waterville-Elysian-Morristown",org:"MREA",p:"#009d4a",s:"#000000",city:"Waterville"},
  {n:"435",name:"Waubun-Ogema-White Earth",org:"MREA",p:"#036064",s:"#000000",city:"Waubun"},
  {n:"284",name:"Wayzata",org:"AMSD",p:"#00447C",s:"#eca901",city:"Plymouth"},
  {n:"2342",name:"West Central",org:"MREA",p:"#ba0c2f",s:"#9ea2a2",city:"Barrett"},
  {n:"197",name:"West St. Paul-Mendota Hts-Eagan",org:"AMSD",p:"#C10230",s:"#d0b786",city:"Mendota Heights"},
  {n:"2898",name:"Westbrook-Walnut Grove",org:"MREA",p:"#a70212",s:"#ffffff",city:"Westbrook"},
  {n:"277",name:"Westonka",org:"AMSD",p:"#1a1a1a",s:"#DA2B1F",city:"Minnetrista"},
  {n:"803",name:"Wheaton",org:"MREA",p:"#bf1e24",s:"#000000",city:"Wheaton"},
  {n:"624",name:"White Bear Lake",org:"AMSD",p:"#a63b02",s:"#ffffff",city:"White Bear Lake"},
  {n:"347",name:"Willmar",org:"MREA",p:"#e01f28",s:"#000000",city:"Willmar"},
  {n:"577",name:"Willow River",org:"MREA",p:"#ed1b24",s:"#020885",city:"Willow River"},
  {n:"2609",name:"Win-E-Mac",org:"MREA",p:"#0066bf",s:"#ea2634",city:"Erskine"},
  {n:"177",name:"Windom",org:"MREA",p:"#0133a0",s:"#ffb400",city:"Windom"},
  {n:"861",name:"Winona Area",org:"",p:"#fc4c02",s:"#000000",city:"Winona"},
  {n:"518",name:"Worthington",org:"MREA",p:"#cd0000",s:"#000000",city:"Worthington"},
  {n:"100",name:"Wrenshall",org:"",p:"#325da6",s:"#323232",city:"Wrenshall"},
  {n:"2190",name:"Yellow Medicine East",org:"MREA",p:"#531314",s:"#9a9f9e",city:"Granite Falls"},
  {n:"2805",name:"Zumbrota-Mazeppa",org:"MREA",p:"#0e1d41",s:"#9da1a2",city:"Zumbrota"}
];
// ═══════ HELPERS ═══════
function fi(name) { return FONTS.findIndex(f => f.name === name); }
const loadedFonts = new Set();
function loadFont(url) {
  if (!url || loadedFonts.has(url)) return;
  loadedFonts.add(url);
  const link = document.createElement("link");
  link.rel = "stylesheet"; link.href = url;
  document.head.appendChild(link);
}
function needsDarkText(hex) {
  if (!hex || hex.length < 7) return false;
  const r = parseInt(hex.slice(1,3),16), g = parseInt(hex.slice(3,5),16), b = parseInt(hex.slice(5,7),16);
  return (0.299*r + 0.587*g + 0.114*b) / 255 > 0.6;
}
function toggleTheme() {
  const html = document.documentElement;
  const next = html.getAttribute("data-theme") === "dark" ? "light" : "dark";
  html.setAttribute("data-theme", next);
  document.getElementById("themeLabel").textContent = next === "dark" ? "Dark" : "Light";
}

// ═══════ DROPDOWN BUILDERS ═══════
function closeAllDropdowns(except) {
  document.querySelectorAll(".custom-select.open").forEach(cs => { if (cs !== except) cs.classList.remove("open"); });
}
document.addEventListener("click", e => { if (!e.target.closest(".custom-select")) closeAllDropdowns(); });

function buildFontSelect(containerId, defaultIdx) {
  const container = document.getElementById(containerId);
  container.innerHTML = "";
  container.dataset.selectedIdx = defaultIdx;
  const trigger = document.createElement("div");
  trigger.className = "custom-select-trigger";
  trigger.textContent = FONTS[defaultIdx].name;
  container.appendChild(trigger);
  const dropdown = document.createElement("div");
  dropdown.className = "custom-select-dropdown";
  const search = document.createElement("input");
  search.className = "custom-select-search";
  search.placeholder = "Search fonts…";
  dropdown.appendChild(search);
  FONTS.forEach((f, i) => {
    loadFont(f.import);
    const opt = document.createElement("div");
    opt.className = "custom-select-option" + (i === defaultIdx ? " selected" : "");
    opt.dataset.idx = i;
    opt.innerHTML = '<span class="font-preview" style="font-family:'+f.family+'">Aa</span><span class="font-name">'+f.name+'</span>';
    opt.addEventListener("click", () => {
      container.dataset.selectedIdx = i;
      trigger.textContent = f.name;
      dropdown.querySelectorAll(".custom-select-option").forEach(o => o.classList.remove("selected"));
      opt.classList.add("selected");
      container.classList.remove("open");
      search.value = ""; filterOpts("");
    });
    dropdown.appendChild(opt);
  });
  container.appendChild(dropdown);
  function filterOpts(q) {
    const lower = q.toLowerCase();
    dropdown.querySelectorAll(".custom-select-option").forEach(o => {
      o.classList.toggle("hidden", !FONTS[o.dataset.idx].name.toLowerCase().includes(lower));
    });
  }
  search.addEventListener("input", () => filterOpts(search.value));
  trigger.addEventListener("click", e => { e.stopPropagation(); closeAllDropdowns(container); container.classList.toggle("open"); if (container.classList.contains("open")) setTimeout(() => search.focus(), 50); });
}

function buildBrandSelect(containerId) {
  const container = document.getElementById(containerId);
  container.innerHTML = "";
  container.dataset.selectedIdx = 0;
  const trigger = document.createElement("div");
  trigger.className = "custom-select-trigger";
  trigger.textContent = DISTRICTS[0].name;
  container.appendChild(trigger);
  const dropdown = document.createElement("div");
  dropdown.className = "custom-select-dropdown";
  const search = document.createElement("input");
  search.className = "custom-select-search";
  search.placeholder = "Search districts…";
  dropdown.appendChild(search);
  DISTRICTS.forEach((d, i) => {
    const opt = document.createElement("div");
    opt.className = "custom-select-option" + (i === 0 ? " selected" : "");
    opt.dataset.idx = i;
    opt.innerHTML = '<span class="brand-swatch" style="background:'+d.p+'"></span><span class="opt-label">'+d.name+'</span>'+(d.city ? '<span class="opt-sub">'+d.city+'</span>' : '');
    opt.addEventListener("click", () => {
      container.dataset.selectedIdx = i;
      trigger.textContent = d.name;
      dropdown.querySelectorAll(".custom-select-option").forEach(o => o.classList.remove("selected"));
      opt.classList.add("selected");
      container.classList.remove("open");
      search.value = ""; filterOpts("");
    });
    dropdown.appendChild(opt);
  });
  container.appendChild(dropdown);
  function filterOpts(q) {
    const lower = q.toLowerCase();
    dropdown.querySelectorAll(".custom-select-option").forEach(o => {
      const d = DISTRICTS[o.dataset.idx];
      o.classList.toggle("hidden", !(d.name.toLowerCase().includes(lower) || d.city.toLowerCase().includes(lower) || d.n.includes(lower)));
    });
  }
  search.addEventListener("input", () => filterOpts(search.value));
  trigger.addEventListener("click", e => { e.stopPropagation(); closeAllDropdowns(container); container.classList.toggle("open"); if (container.classList.contains("open")) setTimeout(() => search.focus(), 50); });
}

function buildAppSelect(containerId) {
  const container = document.getElementById(containerId);
  container.innerHTML = "";
  container.dataset.selectedIdx = 0;
  const trigger = document.createElement("div");
  trigger.className = "custom-select-trigger";
  trigger.textContent = APPS[0].name;
  container.appendChild(trigger);
  const dropdown = document.createElement("div");
  dropdown.className = "custom-select-dropdown";
  const search = document.createElement("input");
  search.className = "custom-select-search";
  search.placeholder = "Search apps…";
  dropdown.appendChild(search);
  APPS.forEach((a, i) => {
    const opt = document.createElement("div");
    opt.className = "custom-select-option" + (i === 0 ? " selected" : "");
    opt.dataset.idx = i;
    opt.innerHTML = '<span class="opt-label">'+a.name+'</span><span class="opt-sub">'+a.group+'</span>';
    opt.addEventListener("click", () => {
      container.dataset.selectedIdx = i;
      trigger.textContent = a.name;
      dropdown.querySelectorAll(".custom-select-option").forEach(o => o.classList.remove("selected"));
      opt.classList.add("selected");
      container.classList.remove("open");
      search.value = ""; filterOpts("");
    });
    dropdown.appendChild(opt);
  });
  container.appendChild(dropdown);
  function filterOpts(q) {
    const lower = q.toLowerCase();
    dropdown.querySelectorAll(".custom-select-option").forEach(o => {
      const a = APPS[o.dataset.idx];
      o.classList.toggle("hidden", !(a.name.toLowerCase().includes(lower) || a.group.toLowerCase().includes(lower)));
    });
  }
  search.addEventListener("input", () => filterOpts(search.value));
  trigger.addEventListener("click", e => { e.stopPropagation(); closeAllDropdowns(container); container.classList.toggle("open"); if (container.classList.contains("open")) setTimeout(() => search.focus(), 50); });
}
// ═══════ APP BODY TEMPLATES ═══════
function appBody(appId, df, bf, brand) {
  const dF = df.family, bF = bf.family;
  const p = brand.p, s = brand.s;
  const thC = needsDarkText(p) ? "#000" : "#fff";

  const miniStats = (items, accent) => {
    let h = '<div class="mini-stats" style="--stat-accent:'+accent+'">';
    items.forEach(([label, val, cls]) => {
      h += '<div class="mini-stat"><div class="mini-stat-label" style="font-family:'+bF+'">'+label+'</div><div class="mini-stat-value'+(cls?' '+cls:'')+'" style="font-family:'+dF+'">'+val+'</div></div>';
    });
    return h + '</div>';
  };
  const miniTbl = (cols, rows) => {
    let h = '<table class="mini-table"><thead><tr style="background:'+p+';color:'+thC+'">';
    cols.forEach(c => { h += '<th style="font-family:'+bF+'">'+c+'</th>'; });
    h += '</tr></thead><tbody>';
    rows.forEach(r => {
      h += '<tr>';
      r.forEach((cell, ci) => {
        if (typeof cell === 'object') h += '<td>'+cell.html+'</td>';
        else h += '<td style="font-family:'+bF+(ci===0?';font-weight:600':'')+'">'+ cell+'</td>';
      });
      h += '</tr>';
    });
    return h + '</tbody></table>';
  };
  const badge = (text, cls) => '<span class="mini-badge '+cls+'" style="font-family:'+bF+'">'+text+'</span>';
  const tabs = (items, activeIdx) => {
    let h = '<div class="mini-tabs">';
    items.forEach((t,i) => {
      h += '<span class="mini-tab'+(i===activeIdx?' active':'')+'" style="'+(i===activeIdx?'background:'+p+';color:'+thC+';':'')+' font-family:'+bF+'">'+t+'</span>';
    });
    return h + '</div>';
  };
  const filter = (ph, selOpts) => {
    let h = '<div class="mini-filter-bar"><input class="mini-search" style="font-family:'+bF+'" placeholder="'+ph+'" disabled>';
    if (selOpts) h += '<select class="mini-select" style="font-family:'+bF+'" disabled><option>'+selOpts+'</option></select>';
    return h + '</div>';
  };
  const chart = (heights) => {
    let h = '<div class="mini-chart">';
    heights.forEach(ht => { h += '<div class="mini-chart-bar" style="height:'+ht+'%;background:'+p+'"></div>'; });
    return h + '</div>';
  };
  const heatmap = (n) => {
    let h = '<div class="mini-heatmap">';
    for (let i=0; i<n; i++) { const op = (0.15 + Math.random()*0.85).toFixed(2); h += '<div class="mini-hm-cell" style="background:'+p+';opacity:'+op+'"></div>'; }
    return h + '</div>';
  };
  const dn = brand.name !== "Bondwood Default" ? brand.name : "";

  switch(appId) {
    case "contract-mgmt":
      return '<div class="app-module-title" style="font-family:'+dF+'">Dashboard</div><div class="app-subtitle" style="font-family:'+bF+'">Viewing all contracts</div>'
        + miniStats([["Total","10"],["Active","4"],["Expiring","3","warn"],["Expired","2","danger"],["Value","$2.4M"]], p)
        + filter("Search contracts…","All Statuses")
        + miniTbl(["Contract #","Vendor","Value","Status"],[
          ["CTR-001","Acme Supplies","$125,000",{html:badge("Active","active")}],
          ["CTR-002","TechPro Solutions","$340,000",{html:badge("Expiring","expiring")}],
          ["CTR-003","CleanCo Janitorial","$87,500",{html:badge("Expired","expired")}]
        ]);

    case "payment-dash":
      return '<div class="app-module-title" style="font-family:'+dF+'">Dashboard</div><div class="app-subtitle" style="font-family:'+bF+'">All payment requests</div>'
        + miniStats([["Total RFPs","24"],["In Progress","8"],["Approved","12"],["Overdue","3","danger"],["Amount","$48K"]], p)
        + filter("Search RFPs…","All Statuses")
        + miniTbl(["RFP #","Vendor","Amount","Status"],[
          ["RFP-041","BSN Sports","$4,280",{html:badge("Approved","approved")}],
          ["RFP-040","Office Depot","$1,150",{html:badge("A/P Review","pending")}],
          ["RFP-039","Sparks Electric","$6,900",{html:badge("Draft","draft")}]
        ]);

    case "payment-rfp":
      return '<div class="app-module-title" style="font-family:'+dF+'">Request for Payment</div><div class="app-subtitle" style="font-family:'+bF+'">RFP-2025-041</div>'
        + '<div style="margin-bottom:8px"><div class="mini-form-label" style="font-family:'+bF+'">Request Type</div><div class="mini-form-field" style="font-family:'+bF+'">Vendor Payment</div></div>'
        + '<div class="mini-form-row"><div style="flex:1"><div class="mini-form-label" style="font-family:'+bF+'">Vendor Name</div><div class="mini-form-field" style="font-family:'+bF+'">BSN SPORTS, LLC</div></div><div style="flex:1"><div class="mini-form-label" style="font-family:'+bF+'">Vendor #</div><div class="mini-form-field" style="font-family:'+bF+'">12345</div></div></div>'
        + '<div style="margin:8px 0 4px;font-size:10px;font-weight:600;font-family:'+bF+';color:var(--card-body-title)">Item Detail</div>'
        + miniTbl(["Line","Description","Budget Code","Amount"],[
          ["1","Athletic equipment","01-005-203","$2,450.00"],
          ["2","Uniforms – varsity","01-005-401","$1,830.00"]
        ])
        + '<div style="text-align:right;margin-top:6px;font-size:10px;font-weight:700;font-family:'+dF+';color:var(--card-body-title)">Total: $4,280.00</div>'
        + '<div style="display:flex;gap:4px;margin-top:8px"><span class="mini-btn" style="background:'+p+';font-family:'+bF+'">Submit</span><span class="mini-btn" style="background:var(--surface-hover);color:var(--text-dim);font-family:'+bF+'">Save Draft</span></div>';

    case "payment-data":
      return '<div class="app-module-title" style="font-family:'+dF+'">Data Management</div><div class="app-subtitle" style="font-family:'+bF+'">42 vendors · 186 budget codes</div>'
        + tabs(["Vendors","Budget Codes","Restriction Groups"], 0)
        + '<div class="mini-filter-bar"><input class="mini-search" style="font-family:'+bF+'" placeholder="Search vendors…" disabled><span class="mini-btn" style="background:'+p+';font-family:'+bF+'">+ Add</span></div>'
        + miniTbl(["Vendor #","Vendor Name","City","State"],[
          ["12345","BSN SPORTS, LLC","Dallas","TX"],
          ["23456","OFFICE DEPOT","Boca Raton","FL"],
          ["34567","AMAZON CAPITAL SVCS","Seattle","WA"]
        ]);

    case "payment-users":
      return '<div class="app-module-title" style="font-family:'+dF+'">User Management</div><div class="app-subtitle" style="font-family:'+bF+'">5 users</div>'
        + filter("Search users…","All Roles")
        + miniTbl(["Name","Email","Roles"],[
          ["Jane Smith","jane@district.edu",{html:'<span class="mini-badge" style="background:rgba(139,92,246,0.12);color:#7c3aed;font-family:'+bF+'">Admin</span>'}],
          ["Mike Johnson","mike@district.edu",{html:'<span class="mini-badge" style="background:rgba(217,119,6,0.12);color:#92400e;font-family:'+bF+'">Manager</span>'}],
          ["Sarah Williams","sarah@district.edu",{html:'<span class="mini-badge" style="background:rgba(7,40,235,0.1);color:#1a56db;font-family:'+bF+'">Viewer</span>'}]
        ]);

    case "budget-donut":
      return miniStats([["Total Budget","$4.2M"],["YTD Spent","$2.8M"],["Encumbered","$420K"],["Remaining","$980K","green"]], p)
        + '<div class="mini-donut-grid">'
        + [{n:"General Fund",pct:67,r:"$594K"},{n:"Food Service",pct:82,r:"$122K"},{n:"Transportation",pct:55,r:"$234K"},{n:"Facilities",pct:91,r:"$31K"}].map(b =>
          '<div class="mini-bucket"><div class="mini-bucket-header" style="background:'+p+';color:'+thC+';font-family:'+dF+'">'+b.n+'</div><div class="mini-bucket-body"><canvas class="donut-canvas" data-pct="'+b.pct+'" data-p="'+p+'" width="48" height="48"></canvas><div class="mini-bucket-stats" style="font-family:'+bF+'"><strong>'+b.pct+'%</strong> utilized<br>Remaining: <strong>'+b.r+'</strong></div></div></div>'
        ).join('') + '</div>';

    case "budget-table":
      return miniStats([["Total Budget","$4.2M"],["YTD Spent","$2.8M"],["Encumbered","$420K"],["Remaining","$980K","green"]], p)
        + miniTbl(["Budget","Budgeted","Spent","Encumbered","Remaining","%"],[
          ["General Fund","$1.8M","$1.1M","$106K","$594K","67%"],
          ["Food Service","$680K","$510K","$48K","$122K","82%"],
          ["Transportation","$520K","$260K","$26K","$234K","55%"],
          ["Facilities","$340K","$290K","$19K","$31K","91%"]
        ]);

    case "debt-mgmt":
      return miniStats([["Outstanding","$28.4M"],["Issues","6"],["GO","$22.1M"],["COP","$4.8M"],["FP","$1.5M"]], p)
        + tabs(["All Debt","GO","COP","FP"], 0)
        + '<div style="margin-bottom:6px;font-size:9px;font-weight:700;font-family:'+dF+';color:var(--card-body-title)">Annual Debt Service</div>'
        + chart([70,65,60,55,50,45,40,35,30,25])
        + '<div style="margin-top:8px"></div>'
        + miniTbl(["Issue","Type","Outstanding","Maturity"],[
          ["2020A GO","GO","$14.2M","2035"],
          ["2022B COP","COP","$4.8M","2032"]
        ]);

    case "bench-revenue":
      return '<div class="app-module-title" style="font-family:'+dF+'">Revenue Comparison</div><div class="app-subtitle" style="font-family:'+bF+'">General Education Revenue — FY2024 · Per ADM</div>'
        + miniStats([["Average","$7,842"],["Median","$7,650"],["Highest","$12,410","green"],["Lowest","$5,220","warn"]], p)
        + chart([90,75,72,68,65,60,55,50,45,42,38,32])
        + '<div style="margin-top:6px;font-size:7px;color:var(--text-faint);font-family:'+bF+'">12 districts · Sorted descending</div>';

    case "bench-salaries":
      return '<div class="app-module-title" style="font-family:'+dF+'">Salaries &amp; FTE</div><div class="app-subtitle" style="font-family:'+bF+'">Teacher compensation by lane and step</div>'
        + '<div class="mini-form-row"><div style="flex:1"><div class="mini-form-label" style="font-family:'+bF+'">Your District</div><div class="mini-form-field" style="font-family:'+bF+'">'+(dn||"Select district…")+'</div></div></div>'
        + tabs(["Teachers","Admin","Support"], 0)
        + '<div style="margin:6px 0 4px;font-size:9px;font-weight:700;font-family:'+dF+';color:var(--card-body-title)">What-If Scenario</div>'
        + '<div style="display:flex;align-items:center;gap:6px;margin-bottom:8px"><span style="font-size:11px;font-weight:700;color:'+p+';font-family:'+dF+'">+3.5%</span><div style="flex:1;height:4px;border-radius:2px;background:var(--border);position:relative"><div style="width:35%;height:100%;border-radius:2px;background:'+p+'"></div></div></div>'
        + '<div class="mini-tabs" style="gap:1px"><span class="mini-tab active" style="background:'+p+';color:'+thC+';font-family:'+bF+';font-size:7px">BA</span><span class="mini-tab" style="font-family:'+bF+';font-size:7px">BA+20</span><span class="mini-tab" style="font-family:'+bF+';font-size:7px">MA</span><span class="mini-tab" style="font-family:'+bF+';font-size:7px">MA+30</span><span class="mini-tab" style="font-family:'+bF+';font-size:7px">EdD</span></div>';

    case "bench-adm":
      return '<div class="app-module-title" style="font-family:'+dF+'">ADM Detail</div><div class="app-subtitle" style="font-family:'+bF+'">'+(dn||"Select a district")+' · Average Daily Membership</div>'
        + tabs(["ADM Detail","Cohort ↘","Grade →","Year ↓"], 0)
        + '<div style="font-size:8px;font-weight:600;font-family:'+dF+';color:var(--card-body-title);margin:6px 0 4px">ADM Summary</div>'
        + heatmap(32)
        + '<div style="margin-top:6px;font-size:7px;color:var(--text-faint);font-family:'+bF+'">Grades K–12 · FY2015–FY2025</div>';

    case "bench-cohort":
      return '<div class="app-module-title" style="font-family:'+dF+'">Cohort Survival</div><div class="app-subtitle" style="font-family:'+bF+'">Trace student cohorts across grades and years</div>'
        + tabs(["ADM Detail","Cohort ↘","Grade →","Year ↓"], 1)
        + miniStats([["Start","482"],["End","445"],["Survival","92.3%"]], p)
        + heatmap(32);

    case "bench-oe":
      return '<div class="app-module-title" style="font-family:'+dF+'">Open Enrollment</div><div class="app-subtitle" style="font-family:'+bF+'">'+(dn||"Select a district")+' · FY2025</div>'
        + miniStats([["Total In","342","green"],["Total Out","218","warn"],["Net","+124","green"]], p)
        + miniTbl(["Serving District","In","Out","Net"],[
          ["Neighboring ISD #1","86","42","+44"],
          ["Neighboring ISD #2","64","58","+6"],
          ["Neighboring ISD #3","38","51","-13"]
        ]);

    default: return '<div style="padding:20px;color:var(--text-faint)">Unknown app</div>';
  }
}
// ═══════ BUILD CARD HTML ═══════
function buildCardHTML(card) {
  const app = APPS[card.appIdx];
  const df = FONTS[card.displayIdx];
  const bf = FONTS[card.bodyIdx];
  const brand = DISTRICTS[card.brandIdx];
  const p = brand.p, s = brand.s;
  const thC = needsDarkText(p) ? "#000" : "#fff";
  const dls = df.name === "Cal Sans" ? "letter-spacing:0.5px;" : "";

  return '<div class="card '+(card.starred?'starred':'')+'" id="card-'+card.id+'" draggable="true" ondragstart="onDragStart(event,'+card.id+')" ondragover="onDragOver(event)" ondragenter="onDragEnter(event)" ondragleave="onDragLeave(event)" ondrop="onDrop(event,'+card.id+')" ondragend="onDragEnd(event)">'
    + '<div class="fav-badge">★ Favorite</div>'
    + '<div class="card-banner" style="background:'+p+'">'
    + '<div class="card-banner-inner">'
    + '<svg class="card-banner-hamburger" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="'+thC+'" stroke-width="2.5"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>'
    + '<div class="card-banner-title" style="font-family:'+df.family+';'+dls+'color:'+thC+'">'+app.banner+'</div>'
    + '</div>'
    + '<div class="card-banner-accent" style="background:'+s+'"></div>'
    + '</div>'
    + '<div class="card-app-body">'+appBody(app.id, df, bf, brand)+'</div>'
    + '<div class="card-footer">'
    + '<div class="card-font-labels">'
    + '<div><span class="tag">APP</span>&nbsp;&nbsp;'+app.name+'</div>'
    + '<div><span class="tag">BRAND</span>&nbsp;&nbsp;'+brand.name+(brand.n!=="0"?' #'+brand.n:'')+'</div>'
    + '<div><span class="tag">DISPLAY</span>&nbsp;&nbsp;'+df.name+'&nbsp;&nbsp;·&nbsp;&nbsp;<span class="tag">BODY</span>&nbsp;&nbsp;'+bf.name+'</div>'
    + '</div>'
    + '<div class="card-actions">'
    + '<button class="btn-star" onclick="toggleStar('+card.id+')" title="Favorite">★</button>'
    + '<button class="btn-dup" onclick="duplicateCard('+card.id+')" title="Duplicate">⧉</button>'
    + '<button class="btn-del" onclick="removeCard('+card.id+')" title="Remove">✕</button>'
    + '</div></div></div>';
}

// ═══════ STATE & RENDER ═══════
let cards = [], cardIdCounter = 0, showStarredOnly = false;

function render() {
  const grid = document.getElementById("grid");
  const empty = document.getElementById("emptyState");
  const visible = showStarredOnly ? cards.filter(c => c.starred) : cards;
  const starredCount = cards.filter(c => c.starred).length;
  document.getElementById("cardCount").textContent = cards.length + " card" + (cards.length !== 1 ? "s" : "");
  document.getElementById("btnClear").style.display = cards.length > 1 ? "" : "none";
  const favBtn = document.getElementById("btnFavFilter");
  if (starredCount > 0) {
    favBtn.style.display = "";
    favBtn.className = "btn-fav-filter" + (showStarredOnly ? " active" : "");
    favBtn.innerHTML = "★ " + starredCount + " Fav" + (starredCount !== 1 ? "s" : "") + (showStarredOnly ? " (showing)" : "");
  } else { favBtn.style.display = "none"; if (showStarredOnly) showStarredOnly = false; }
  if (visible.length === 0) {
    grid.innerHTML = "";
    empty.style.display = "";
    empty.textContent = showStarredOnly ? "No favorites yet." : 'Pick an app, brand, and fonts above — then click "+ Add Preview" to start comparing.';
  } else {
    empty.style.display = "none";
    grid.innerHTML = visible.map(buildCardHTML).join("");
    drawDonuts();
  }
}

function addCard() {
  const appIdx = parseInt(document.getElementById("csApp").dataset.selectedIdx);
  const brandIdx = parseInt(document.getElementById("csBrand").dataset.selectedIdx);
  const displayIdx = parseInt(document.getElementById("csDisplay").dataset.selectedIdx);
  const bodyIdx = parseInt(document.getElementById("csBody").dataset.selectedIdx);
  loadFont(FONTS[displayIdx].import);
  loadFont(FONTS[bodyIdx].import);
  cards.push({ id: cardIdCounter++, appIdx, brandIdx, displayIdx, bodyIdx, starred: false });
  render();
  window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
}

function removeCard(id) { cards = cards.filter(c => c.id !== id); render(); }
function duplicateCard(id) { const s = cards.find(c => c.id === id); if (s) { cards.push({ ...s, id: cardIdCounter++, starred: false }); render(); } }
function toggleStar(id) { const c = cards.find(c => c.id === id); if (c) { c.starred = !c.starred; render(); } }
function toggleFavFilter() { showStarredOnly = !showStarredOnly; render(); }
function clearAll() { if (confirm("Remove all cards?")) { cards = []; render(); } }

// ═══════ DONUT DRAWING ═══════
function drawDonuts() {
  document.querySelectorAll(".donut-canvas").forEach(canvas => {
    const pct = parseInt(canvas.dataset.pct) || 0;
    const pColor = canvas.dataset.p || "#000";
    const ctx = canvas.getContext("2d");
    const w = canvas.width, h = canvas.height, cx = w/2, cy = h/2, r = Math.min(w,h)/2 - 4, lw = 6;
    ctx.clearRect(0,0,w,h);
    ctx.beginPath(); ctx.arc(cx,cy,r,0,Math.PI*2); ctx.strokeStyle = "rgba(128,128,128,0.15)"; ctx.lineWidth = lw; ctx.stroke();
    ctx.beginPath(); ctx.arc(cx,cy,r,-Math.PI/2,-Math.PI/2 + (pct/100)*Math.PI*2); ctx.strokeStyle = pColor; ctx.lineWidth = lw; ctx.lineCap = "round"; ctx.stroke();
    ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--text').trim() || "#e8e8e8";
    ctx.font = "bold 10px Inter"; ctx.textAlign = "center"; ctx.textBaseline = "middle";
    ctx.fillText(pct + "%", cx, cy);
  });
}

// ═══════ DRAG & DROP ═══════
let dragId = null;
function onDragStart(e, id) { dragId = id; e.dataTransfer.effectAllowed = "move"; requestAnimationFrame(() => { const el = document.getElementById("card-" + id); if (el) el.classList.add("dragging"); }); }
function onDragOver(e) { e.preventDefault(); e.dataTransfer.dropEffect = "move"; }
function onDragEnter(e) { e.preventDefault(); const card = e.currentTarget.closest('.card'); if(card) card.classList.add("drag-over"); }
function onDragLeave(e) { const card = e.currentTarget.closest('.card'); if(card && !card.contains(e.relatedTarget)) card.classList.remove("drag-over"); }
function onDrop(e, targetId) {
  e.preventDefault();
  const card = e.currentTarget.closest('.card'); if(card) card.classList.remove("drag-over");
  if (dragId === null || dragId === targetId) return;
  const fromIdx = cards.findIndex(c => c.id === dragId);
  const toIdx = cards.findIndex(c => c.id === targetId);
  if (fromIdx === -1 || toIdx === -1) return;
  const [moved] = cards.splice(fromIdx, 1);
  cards.splice(toIdx, 0, moved);
  render();
}
function onDragEnd() { dragId = null; document.querySelectorAll(".card").forEach(el => el.classList.remove("dragging","drag-over")); }

// ═══════ QUICK COMBOS ═══════
const QUICK_COMBOS = [
  {label:"Bondwood Default",display:"Cal Sans",body:"Google Sans Flex",brand:"Bondwood Default"},
  {label:"Edina Schools",display:"Cal Sans",body:"Google Sans Flex",brand:"Edina"},
  {label:"Rochester Modern",display:"Plus Jakarta Sans",body:"DM Sans",brand:"Rochester"},
  {label:"Minnetonka Classic",display:"Playfair Display",body:"Source Sans Pro",brand:"Minnetonka"},
  {label:"St. Cloud Geo",display:"Space Grotesk",body:"Inter",brand:"St. Cloud"},
  {label:"Duluth Editorial",display:"DM Serif Display",body:"Libre Franklin",brand:"Duluth"},
  {label:"Osseo Warm",display:"Fraunces",body:"Nunito Sans",brand:"Osseo"},
  {label:"Wayzata Sharp",display:"Sora",body:"Work Sans",brand:"Wayzata"},
];

function buildQuickCombos() {
  const row = document.getElementById("quickRow");
  QUICK_COMBOS.forEach(combo => {
    const btn = document.createElement("button");
    btn.className = "quick-btn";
    btn.textContent = combo.label;
    btn.addEventListener("click", () => {
      const dIdx = FONTS.findIndex(f => f.name === combo.display);
      const bIdx = FONTS.findIndex(f => f.name === combo.body);
      const brIdx = DISTRICTS.findIndex(d => d.name === combo.brand);
      if (dIdx >= 0) { document.getElementById("csDisplay").dataset.selectedIdx = dIdx; document.getElementById("csDisplay").querySelector(".custom-select-trigger").textContent = combo.display; }
      if (bIdx >= 0) { document.getElementById("csBody").dataset.selectedIdx = bIdx; document.getElementById("csBody").querySelector(".custom-select-trigger").textContent = combo.body; }
      if (brIdx >= 0) { document.getElementById("csBrand").dataset.selectedIdx = brIdx; document.getElementById("csBrand").querySelector(".custom-select-trigger").textContent = combo.brand; }
      addCard();
    });
    row.appendChild(btn);
  });
}

// ═══════ INIT ═══════
function init() {
  loadFont(FONTS[fi("Cal Sans")].import);
  loadFont(FONTS[fi("Google Sans Flex")].import);
  buildAppSelect("csApp");
  buildBrandSelect("csBrand");
  buildFontSelect("csDisplay", fi("Cal Sans") >= 0 ? fi("Cal Sans") : 0);
  buildFontSelect("csBody", fi("Google Sans Flex") >= 0 ? fi("Google Sans Flex") : 0);
  buildQuickCombos();
  render();
}
document.addEventListener("DOMContentLoaded", init);
</script></body></html>
